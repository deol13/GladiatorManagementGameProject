@model ShopViewModel

@if (User.IsInRole("Admin") || User.IsInRole("User"))
{
    <div class="text-center">
        <h3 class="display-4">Welcome to the shop!</h3>
    </div>

    <h5>Weapons</h5>

    <table class="table">
        <thead>
            <tr>
                <th>
                    Name
                </th>
                <th>
                    Price
                </th>
                <th>
                    Buy
                </th>
            </tr>
        </thead>
        <tbody>
            @for (int i = 0; i < Model.Inventory.WeaponsInShop.Count; i++)
            {
                <tr>
                    <td>
                        @Model.Inventory.WeaponsInShop[i].Name
                    </td>
                    <td>
                        @Model.Inventory.WeaponsInShop[i].Cost
                    </td>
                    <td>
                        <button class="btn btn-primary" onclick="buyWeapon(@i)">Buy this weapon</button>
                    </td>
                </tr>
            }
        </tbody>
    </table>

    <h5>Armor</h5>

    <table class="table">
        <thead>
            <tr>
                <th>
                    Name
                </th>
                <th>
                    Price
                </th>
                <th>
                    Buy
                </th>
            </tr>
        </thead>
        <tbody>
            @for (int i = 0; i < Model.Inventory.WeaponsInShop.Count; i++)
            {
                <tr>
                    <td>
                        @Model.Inventory.ArmorsInShop[i].Name
                    </td>
                    <td>
                        @Model.Inventory.ArmorsInShop[i].Cost
                    </td>
                    <td>
                        <button class="btn btn-primary" onclick="buyArmor(@i)">Buy this armor</button>
                    </td>
                </tr>
            }
        </tbody>
    </table>
}
<script>
    function buyWeapon(e) {
        let id = e;
        var url = "Player/BuyWeapon/" + id;
        $.post(url, function (res) {
            $("#viewContainer").html(res);
        });
    }

    function buyArmor(e) {
        let id = e;
        var url = "Player/BuyArmor/" + id;
        $.post(url, function (res) {
            $("#viewContainer").html(res);
        });
    }

</script>